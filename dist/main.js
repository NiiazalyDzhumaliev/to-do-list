(()=>{"use strict";const t=document.querySelector("[data-lists]"),e=(document.querySelector("[data-delete-list-button]"),document.querySelector("[data-clear-complete-tasks-button]"),"projects"),n="selectedProjectId";let l=JSON.parse(localStorage.getItem(e))||[],s=localStorage.getItem(n);const o=document.getElementById("project-form");t.addEventListener("click",(t=>{"li"===t.target.tagName.toLowerCase()&&(s=t.target.dataset.projectId,c())}));const i=document.getElementById("todolist-form");document.getElementById("list-submit").addEventListener("click",(t=>{const e=document.getElementById("title").value,n=document.getElementById("description").value,o=document.getElementById("date").value,a=document.querySelector("input[name='priority']:checked").value;l.find((t=>t.id===s)).tasks.push(d(e,n,o,a)),i.reset(),t.preventDefault(),c()})),o&&(console.log("im here"),o.addEventListener("submit",(t=>{const e=document.getElementById("project-name").value;if(null==e||""===e)return!1;l.push(a(e)),c(),o.reset(),t.preventDefault()})));const a=t=>({id:Date.now().toString(),name:t,tasks:[]}),d=(t,e,n,l)=>({id:Date.now().toString(),title:t,description:e,dueDate:n,prior:l});function c(){localStorage.setItem(e,JSON.stringify(l)),localStorage.setItem(n,s),y()}const r=document.querySelector("[data-lists]"),u=document.querySelector("[data-list-display-container]"),m=document.querySelector("[data-list-title]"),p=document.querySelector("[data-tasks]");function g(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function y(){g(r),l.forEach((t=>{const e=document.createElement("li");e.dataset.projectId=t.id,e.classList.add("list-name"),e.innerText=t.name,t.id===s&&e.classList.add("active-list"),r.appendChild(e)}));const t=l.find((t=>t.id===s));null==s?u.style.display="none":(u.style.display="",m.innerText=t.name,g(p),function(t){const e=document.querySelector(".todolist"),n=document.createElement("ul");n.setAttribute("class","todolist-list"),e.appendChild(n),n.innerHTML+=`<li>${t.tasks[t.tasks.length-1].title}</li>`,n.innerHTML+=`<li>${t.tasks[t.tasks.length-1].description}</li>`,n.innerHTML+=`<li>${t.tasks[t.tasks.length-1].dueDate}</li>`,n.innerHTML+=`<li>${t.tasks[t.tasks.length-1].prior}</li>`}(t))}y()})();