(()=>{"use strict";const t=document.querySelector("[data-lists]"),e="projects",n="selectedProjectId",s=JSON.parse(localStorage.getItem(e))||[];let l=localStorage.getItem(n);const i=document.getElementById("project-form"),a=()=>{localStorage.setItem(e,JSON.stringify(s)),localStorage.setItem(n,l),p()};t.addEventListener("click",(t=>{"li"===t.target.tagName.toLowerCase()&&(l=t.target.dataset.projectId,a())}));const d=document.getElementById("todolist-form");document.getElementById("list-submit").addEventListener("click",(t=>{const e=document.getElementById("title").value,n=document.getElementById("description").value,i=document.getElementById("date").value,o=document.querySelector("input[name='priority']:checked").value;s.find((t=>t.id===l)).tasks.push(((t,e,n,s)=>({id:Date.now().toString(),title:t,description:e,dueDate:n,prior:s}))(e,n,i,o)),d.reset(),t.preventDefault(),a()})),i&&i.addEventListener("submit",(t=>{const e=document.getElementById("project-name").value;return null==e||""===e||(s.push((t=>({id:Date.now().toString(),name:t,tasks:[]}))(e)),a(),i.reset(),t.preventDefault()),!1}));const o=document.querySelector("[data-lists]"),r=document.querySelector("[data-list-display-container]"),c=document.querySelector("[data-list-title]"),u=document.querySelector("[data-tasks]"),m=t=>{for(;t.firstChild;)t.removeChild(t.firstChild)},p=()=>{m(o),s.forEach((t=>{const e=document.createElement("li");e.dataset.projectId=t.id,e.classList.add("list-name"),e.innerText=t.name,t.id===l&&e.classList.add("active-list"),o.appendChild(e)}));const t=s.find((t=>t.id===l));null==l?r.style.display="none":(r.style.display="",c.innerText=t.name,m(u),(t=>{const e=document.querySelector(".todolist"),n=document.createElement("ul");n.setAttribute("class","todolist-list"),e.appendChild(n),n.innerHTML+=`<li>${t.tasks[t.tasks.length-1].title}</li>`,n.innerHTML+=`<li>${t.tasks[t.tasks.length-1].description}</li>`,n.innerHTML+=`<li>${t.tasks[t.tasks.length-1].dueDate}</li>`,n.innerHTML+=`<li>${t.tasks[t.tasks.length-1].prior}</li>`})(t))};p()})();